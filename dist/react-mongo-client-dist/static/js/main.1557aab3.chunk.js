(this["webpackJsonpreact-mongo"]=this["webpackJsonpreact-mongo"]||[]).push([[0],{133:function(e,t,c){},161:function(e,t,c){},162:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(45),i=c.n(s),r=(c(133),c(23)),l=c.n(r),o=c(40),j=c(5),d=c(30),u=c.n(d),b=c(36),x=c(206),O=c(218),h=c(209),m=c(217),f=c(63),p=c.n(f),v=c(64),g=c.n(v),N=c(213),S=c(216),w=c(73),C=c(1),y=function(e){var t=e.handleLogin,c=e.loginLoading,n=e.loginFail,s=e.invalidEmail,i=e.accountNotExists,r=e.setAccountNotExists,l=e.setLoginFail,o=e.setInvalidEmail,d=e.setFieldsEmpty,u=e.showloginButton,f=e.clientId,v=e.onLoginSuccess,y=e.onLoginFailure,I=Object(a.useState)(""),k=Object(j.a)(I,2),P=k[0],E=k[1],F=Object(a.useState)(""),L=Object(j.a)(F,2),A=L[0],B=L[1],R=Object(a.useState)(!1),T=Object(j.a)(R,2),W=T[0],M=T[1];return Object(C.jsxs)(S.a,{className:"",children:[i&&Object(C.jsx)(x.a,{severity:"error",onClose:function(){r(!1)},children:"Account does not exist"}),n&&Object(C.jsx)(x.a,{severity:"error",onClose:function(){l(!1)},children:"Login failed"}),s&&Object(C.jsx)(x.a,{severity:"error",onClose:function(){o(!1)},children:"Invalid Email Address"}),c&&Object(C.jsx)(x.a,{severity:"info",children:"Logging in..."}),Object(C.jsxs)("form",{children:[Object(C.jsx)("h2",{children:"Login"}),Object(C.jsx)("label",{className:"h5",children:"Email"}),Object(C.jsx)(O.a,{fullWidth:!0,placeholder:"Email",value:P,onChange:function(e){E(e.target.value)}}),Object(C.jsx)("label",{className:"h5 mt-2",children:"Password"}),Object(C.jsx)(O.a,{fullWidth:!0,type:W?"text":"password",placeholder:"Password",value:A,onChange:function(e){B(e.target.value)},endAdornment:Object(C.jsx)(h.a,{position:"end",onClick:function(){M(!W)},children:Object(C.jsx)(m.a,{children:W?Object(C.jsx)(p.a,{}):Object(C.jsx)(g.a,{})})})}),Object(C.jsx)(N.a,{type:"submit",fullWidth:!0,className:"my-3",variant:"contained",onClick:function(e){t(P,A,e)},children:"Login"}),Object(C.jsxs)(S.a,{className:"d-flex justify-content-between",children:[Object(C.jsx)(b.b,{to:{pathname:"/register"},onClick:function(){d()},children:"Don't have an account? Register here"}),u?Object(C.jsx)(w.GoogleLogin,{clientId:f,onSuccess:v,onFailure:y,cookiePolicy:"single_host_origin"}):null]})]})]})},I=function(e){var t=e.handleRegister,c=e.regLoading,n=e.invalidRegister,s=e.setInvalidRegister,i=e.passwordMismatch,r=e.setPasswordMismatch,l=e.emailExists,o=e.setEmailExists,d=e.setFieldsEmpty,u=e.nameInput,f=e.setNameInput,v=e.emailInput,S=e.setEmailInput,w=e.passInput,y=e.setPassInput,I=e.passConfirmInput,k=e.setPassConfirmInput,P=Object(a.useState)(!1),E=Object(j.a)(P,2),F=E[0],L=E[1];return Object(C.jsxs)("div",{className:"",children:[i&&Object(C.jsx)(x.a,{severity:"error",className:"my-3",onClose:function(){r(!1)},children:"Passwords do not match"}),l&&Object(C.jsxs)(x.a,{severity:"error",onClose:function(){o(!1)},children:["Email already exists"," "]}),c&&Object(C.jsx)(x.a,{severity:"info",children:" Registering... "}),n&&Object(C.jsx)(x.a,{severity:"error",onClose:function(){s(!1)},children:"Invalid Email Address"}),Object(C.jsx)("h2",{children:"Register"}),Object(C.jsxs)("form",{children:[Object(C.jsx)("label",{className:"h5 d-block",children:"Name"}),Object(C.jsx)(O.a,{fullWidth:!0,placeholder:"Name",value:u,onChange:function(e){f(e.target.value)}}),Object(C.jsx)("label",{className:"h5 mt-2",children:"Email"}),Object(C.jsx)(O.a,{fullWidth:!0,type:"email",placeholder:"Email",value:v,onChange:function(e){S(e.target.value)}}),Object(C.jsx)("label",{className:"h5 mt-2",children:"Password"}),Object(C.jsx)(O.a,{fullWidth:!0,type:F?"text":"password",placeholder:"Password",value:w,onChange:function(e){y(e.target.value)},endAdornment:Object(C.jsx)(h.a,{position:"end",onClick:function(){L(!F)},children:Object(C.jsx)(m.a,{children:F?Object(C.jsx)(p.a,{}):Object(C.jsx)(g.a,{})})})}),Object(C.jsx)("label",{className:"h5 mt-2",children:"Confirm Password"}),Object(C.jsx)(O.a,{fullWidth:!0,type:F?"text":"password",placeholder:"Password",value:I,onChange:function(e){k(e.target.value)},endAdornment:Object(C.jsx)(h.a,{position:"end",onClick:function(){L(!F)},children:Object(C.jsx)(m.a,{children:F?Object(C.jsx)(p.a,{}):Object(C.jsx)(g.a,{})})})}),Object(C.jsx)(N.a,{className:"my-3",type:"submit",fullWidth:!0,variant:"contained",onClick:function(e){t(v,w,u,I,e)},children:"Register"})]}),Object(C.jsx)(b.b,{to:{pathname:"/login"},onClick:function(){d()},children:"Have an account? Login here"})]})},k=c(96),P=c(16),E=c(219),F=c(211),L=function(e){var t=e.handleChangeCount,c=e.fruitCount,a=e.transactionState;return Object(C.jsx)(E.a,{children:Object(C.jsx)(F.a,{InputProps:{endAdornment:Object(C.jsx)(h.a,{position:"start",children:"kg"})},disabled:a,size:"small",inputProps:{min:1},type:"tel",label:"Kilo",id:"select-count",value:isNaN(c)?0:c,onChange:function(e){t(parseInt(e.target.value,10))}})})},A=c(207),B=c(78),R=c.n(B),T=function(e){var t=e.fruitItem,c=e.fruitPrice,n=e.handleRemove,s=e.fruitCount,i=e.handleCount,r=(e.fruitTotal,e.transactionState),l=Object(a.useState)(s),o=Object(j.a)(l,2),d=o[0],u=o[1];return Object(C.jsxs)(A.a,{divider:!0,secondaryAction:Object(C.jsx)(m.a,{disabled:r,onClick:function(){n(t)},children:Object(C.jsx)(R.a,{})}),children:[Object(C.jsx)(S.a,{className:"col-3 text-center",children:t}),Object(C.jsxs)(S.a,{className:"col-3 text-center",children:[" \u20b1",c]}),Object(C.jsx)(L,{transactionState:r,count:d,handleChangeCount:function(e){isNaN(e)&&(e=0),u(e),i(t,c,e)},fruitItem:t,fruitCount:s}),Object(C.jsxs)(S.a,{className:"col-3 text-center",children:["\u20b1",isNaN(d)?"":c*d]})]})},W=function(e){var t=e.item;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(A.a,{divider:!0,children:[Object(C.jsx)(S.a,{className:"col-3 text-center",children:t.item}),Object(C.jsxs)(S.a,{className:"col-3 text-center",children:[" \u20b1",t.price]}),Object(C.jsxs)(S.a,{className:"col-3 text-center",children:[t.count," kg"]}),Object(C.jsxs)(S.a,{className:"col-3 text-center",children:[" \u20b1",t.totalPrice]})]})})},M=c(220),U=function(e){var t=e.data,c=e.showTransaction,a=e.handleBuy;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Transaction"}),"User: ",t.name,Object(C.jsxs)(M.a,{children:[Object(C.jsxs)(A.a,{children:[Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Item"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Price"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Kilo"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Total Price"})]}),t.items.length>0?t.items.map((function(e,t){return Object(C.jsx)(W,{item:e},t)})):"",Object(C.jsxs)(A.a,{children:[Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Final Bill"}),Object(C.jsx)(S.a,{className:"col-3 text-center"}),Object(C.jsx)(S.a,{className:"col-3 text-center"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:Object(C.jsxs)("strong",{children:[" \u20b1",t.total]})})]})]}),Object(C.jsxs)(S.a,{className:"d-flex justify-content-between",children:[Object(C.jsx)(N.a,{variant:"contained",onClick:function(){c(!1)},children:"Edit"}),Object(C.jsx)(N.a,{variant:"contained",onClick:function(){a()},children:"Buy"})]})]})},_=function(e){var t=e.data,c=e.handleCloseModal;return Object(C.jsxs)(S.a,{children:[Object(C.jsx)("h2",{children:"Your Bill"}),"User: ",t.userName,Object(C.jsx)("br",{}),"Transaction Id: ",t._id,Object(C.jsxs)(M.a,{children:[Object(C.jsxs)(A.a,{children:[Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Item"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Price"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Kilo"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Total Price"})]}),t.items.length>0?t.items.map((function(e,t){return Object(C.jsx)(W,{item:e},t)})):"",Object(C.jsxs)(A.a,{children:[Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Final Bill"}),Object(C.jsx)(S.a,{className:"col-3 text-center"}),Object(C.jsx)(S.a,{className:"col-3 text-center"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:Object(C.jsx)("strong",{children:t.finalBill})})]})]}),Object(C.jsx)(S.a,{className:"",children:Object(C.jsx)(N.a,{variant:"contained",fullWidth:!0,onClick:function(){c()},children:"Close"})})]})},z=c(203),K=c(208),D=c(210),H=c(215),Z=c(204),$=function(e){var t=e.currentUser,c=e.fruits,n=e.setFruits,s=Object(a.useState)(c),i=Object(j.a)(s,2),r=i[0],d=(i[1],Object(a.useState)("default")),b=Object(j.a)(d,2),O=b[0],h=b[1],f=Object(a.useState)([]),p=Object(j.a)(f,2),v=p[0],g=p[1],w=Object(a.useState)(!1),y=Object(j.a)(w,2),I=y[0],F=y[1],L=Object(a.useState)(!1),B=Object(j.a)(L,2),W=B[0],$=B[1],q=Object(a.useState)(!1),G=Object(j.a)(q,2),J=G[0],Y=G[1],Q=Object(a.useState)([]),V=Object(j.a)(Q,2),X=V[0],ee=V[1],te=Object(a.useState)([]),ce=Object(j.a)(te,2),ae=ce[0],ne=ce[1],se="https://react-mongo-lloyd.herokuapp.com/api/",ie=function(e){var t=r.filter((function(t){return t.item===e})),a=v.filter((function(t){return t.item!==e}));g(a);var s=t[0];n([].concat(Object(P.a)(c),[s]))},re=function(e,t,c){var a=v.map((function(a){return a.item===e?Object(k.a)(Object(k.a)({},a),{},{count:c,totalPrice:t*c}):a}));g(a)},le=function(){var e=Object(o.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(!0),Y(!0),e.next=4,u.a.post("".concat(se,"transactions"),{name:X.name,userId:X.userId,items:X.items,total:X.total});case 4:return t=e.sent,c=t.data.data.insertedId,e.next=8,u.a.get("".concat(se,"transactions/").concat(c));case 8:a=e.sent,ne(a.data.data),Y(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=Object(a.useState)(!1),je=Object(j.a)(oe,2),de=je[0],ue=je[1],be=Object(a.useState)(!1),xe=Object(j.a)(be,2),Oe=xe[0],he=xe[1],me=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he(!0),e.next=3,u.a.get("".concat(se,"items"));case 3:t=e.sent,n(t.data.data),he(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){me()}),[]),Object(C.jsx)("div",{className:"w-75 m-auto",children:Oe?Object(C.jsx)("div",{className:"loading-container w-50 text-center",children:Object(C.jsx)(H.a,{})}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Z.a,{open:de,children:Object(C.jsx)(S.a,{sx:{position:"absolute",width:"75%",top:"50%",left:"50%",transform:"translate(-50%,-50%)",bgcolor:"background.paper",boxShadow:24,padding:4},children:J?Object(C.jsx)("div",{className:"text-center",children:Object(C.jsx)(H.a,{})}):Object(C.jsx)(_,{data:ae,handleCloseModal:function(){ue(!1),$(!1),g([]),n(r)}})})}),I?Object(C.jsx)(x.a,{severity:"error",className:"mb-3",onClose:function(){F(!1)},children:"Fruit already added"}):"",Object(C.jsxs)(S.a,{className:"",children:[Object(C.jsx)(S.a,{className:"d-flex justify-content-between",children:Object(C.jsx)(S.a,{className:"d-inline h2",children:"Shop"})}),Object(C.jsx)(S.a,{className:"row justify-content-center",children:Object(C.jsxs)(S.a,{className:"",children:["Hello ",t.name]})}),Object(C.jsxs)(S.a,{className:"row justify-content-center w-50 m-auto",children:[Object(C.jsxs)(E.a,{className:"col-9",size:"small",children:[Object(C.jsx)(D.a,{id:"select-label-fruits",children:"Fruits"}),Object(C.jsxs)(z.a,{disabled:!(0!==c.length&&!W),labelId:"select-label-fruits",id:"select-fruits",value:O,label:"Fruits",onChange:function(e){h(e.target.value)},children:[Object(C.jsx)(K.a,{disabled:!0,value:"default",children:"Select Fruit"}),c.map((function(e,t){return Object(C.jsx)(K.a,{value:e.item,children:e.item},t)}))]})]}),Object(C.jsx)(N.a,{disabled:!("default"!==O&&!W),variant:"contained",className:"col-1",onClick:function(){!function(e){var t=c.find((function(t){return t.item===e})),a=c.filter((function(t){return t.item!==e}));n(a),h("default");var s={item:e,price:t.price,count:1,totalPrice:t.price};g([].concat(Object(P.a)(v),[s]))}(O)},children:"Add"})]})]}),Object(C.jsx)(S.a,{className:"row ",children:Object(C.jsxs)(M.a,{children:[Object(C.jsxs)(A.a,{divider:!0,secondaryAction:v.length>0&&Object(C.jsx)(m.a,{disabled:W,onClick:function(){g([]),n(r)},children:Object(C.jsx)(R.a,{})}),children:[Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Item"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Price"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Kilo"}),Object(C.jsx)(S.a,{className:"col-3 text-center",children:"Total"})]}),v.length>0?v.map((function(e,t){return Object(C.jsx)(T,{transactionState:W,fruitItem:e.item,fruitPrice:e.price,fruitCount:e.count,fruitTotal:e.totalPrice,handleRemove:ie,handleCount:re},t)})):Object(C.jsx)(S.a,{className:" text-center",children:"No Fruits Selected"})]})}),Object(C.jsx)(S.a,{className:"justify-content-end d-flex",children:Object(C.jsx)(N.a,{className:"",disabled:!(!W&&0!==v.length),variant:"contained",onClick:function(){!function(){var e=0;for(var c in v)e+=v[c].totalPrice;var a={name:t.name,userId:t._id,items:v,total:e};ee(a),$(!0)}()},children:"Confirm"})}),Object(C.jsx)(S.a,{children:W&&Object(C.jsx)(U,{handleBuy:le,data:X,showTransaction:$})})]})})},q=function(e){var t=e.showlogoutButton,c=e.clientId,a=e.onSignoutSuccess,n=e.handleLogout;return Object(C.jsxs)("nav",{className:"bg-white border p-1 d-flex justify-content-between",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"d-inline-block",children:Object(C.jsx)(b.b,{to:{pathname:"/home"},className:"nav-link text-nowrap",children:"Home"})}),Object(C.jsx)("div",{className:"d-inline-block",children:Object(C.jsx)(b.b,{to:{pathname:"/shop"},className:"nav-link text-nowrap",children:"Shop"})})]}),t?Object(C.jsx)(w.GoogleLogout,{clientId:c,buttonText:"Sign Out",onLogoutSuccess:a}):Object(C.jsx)(N.a,{onClick:function(){n()},children:"Logout"})]})},G=function(e){var t=e.currentUser,c=Object(a.useState)([]),n=Object(j.a)(c,2),s=n[0],i=n[1],r=Object(a.useState)(!1),d=Object(j.a)(r,2),b=d[0],x=d[1],O=function(){var e=Object(o.a)(l.a.mark((function e(){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),c=t._id,e.next=4,u.a.get("".concat("https://react-mongo-lloyd.herokuapp.com/api/","transactions/list/").concat(c));case 4:a=e.sent,x(!1),i(a.data.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){O()}),[]),Object(C.jsxs)("div",{className:"mx-3",children:[Object(C.jsx)("h2",{children:"Home"}),b?Object(C.jsx)("div",{className:"loading-container w-50 text-center",children:Object(C.jsx)(H.a,{})}):Object(C.jsx)("div",{className:"w-75 m-auto",children:s.map((function(e){return Object(C.jsxs)("div",{className:"transaction-container ",children:[Object(C.jsx)("h5",{children:"Item "}),Object(C.jsx)(M.a,{children:Object(C.jsxs)(A.a,{divider:!0,children:[Object(C.jsx)("div",{className:"col-3 text-center",children:"Item"}),Object(C.jsx)("div",{className:"col-3 text-center",children:"Price"}),Object(C.jsx)("div",{className:"col-3 text-center",children:"Kilo"}),Object(C.jsx)("div",{className:"col-3 text-center",children:"Total Price"})]})}),Object(C.jsxs)(M.a,{children:[e.items.map((function(e){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(A.a,{divider:!0,children:[Object(C.jsx)("div",{className:"col-3 text-center",children:e.item},e.item),Object(C.jsxs)("div",{className:"col-3 text-center",children:["\u20b1",e.price]}),Object(C.jsx)("div",{className:"col-3 text-center",children:e.count}),Object(C.jsxs)("div",{className:"col-3 text-center",children:["\u20b1",e.totalPrice]})]})})})),Object(C.jsxs)(A.a,{children:[Object(C.jsx)("div",{className:"col-3 text-center",children:"Final Bill"}),Object(C.jsx)("div",{className:"col-3 text-center"}),Object(C.jsx)("div",{className:"col-3 text-center"}),Object(C.jsx)("div",{className:"col-3 text-center"})]})]})]},e._id)}))})]})},J=(c(161),c(14));var Y=function(){var e="https://react-mongo-lloyd.herokuapp.com/api/",t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(!1),r=Object(j.a)(i,2),d=r[0],O=r[1],h=Object(a.useState)(!1),m=Object(j.a)(h,2),f=m[0],p=m[1],v=Object(a.useState)(!1),g=Object(j.a)(v,2),N=g[0],S=g[1],w=Object(a.useState)(!1),k=Object(j.a)(w,2),P=k[0],E=k[1],F=Object(a.useState)(!1),L=Object(j.a)(F,2),A=L[0],B=L[1],R=Object(a.useState)(!1),T=Object(j.a)(R,2),W=T[0],M=T[1],U=Object(a.useState)(!1),_=Object(j.a)(U,2),z=_[0],K=_[1],D=Object(a.useState)(!1),Z=Object(j.a)(D,2),Y=Z[0],Q=Z[1],V=Object(a.useState)(!1),X=Object(j.a)(V,2),ee=X[0],te=X[1],ce=Object(a.useState)(!1),ae=Object(j.a)(ce,2),ne=ae[0],se=ae[1],ie=Object(a.useState)(!1),re=Object(j.a)(ie,2),le=re[0],oe=re[1],je=Object(a.useState)(!1),de=Object(j.a)(je,2),ue=de[0],be=de[1],xe=Object(a.useState)(!1),Oe=Object(j.a)(xe,2),he=Oe[0],me=Oe[1],fe=Object(a.useState)(""),pe=Object(j.a)(fe,2),ve=pe[0],ge=pe[1],Ne=Object(a.useState)(""),Se=Object(j.a)(Ne,2),we=Se[0],Ce=Se[1],ye=Object(a.useState)(""),Ie=Object(j.a)(ye,2),ke=Ie[0],Pe=Ie[1],Ee=Object(a.useState)(""),Fe=Object(j.a)(Ee,2),Le=Fe[0],Ae=Fe[1],Be=Object(a.useState)(""),Re=Object(j.a)(Be,2),Te=Re[0],We=Re[1],Me=function(){var t=Object(o.a)(l.a.mark((function t(c,a,n,s,i){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.preventDefault(),p(!1),S(!1),B(!1),Q(!1),M(!1),K(!1),""!==c&&""!==a&&""!==s&&""!==n){t.next=10;break}return Q(!0),t.abrupt("return");case 10:if(_e(c)){t.next=13;break}return B(!0),t.abrupt("return");case 13:if(a===s){t.next=16;break}return M(!0),t.abrupt("return");case 16:return p(!0),t.next=19,u.a.post("".concat(e,"users/validate"),{email:c});case 19:if(null===t.sent.data.data){t.next=24;break}return K(!0),p(!1),t.abrupt("return");case 24:return t.next=26,u.a.post("".concat(e,"users"),{name:n,pass:a,email:c});case 26:200===t.sent.status&&(p(!1),S(!0),E(!0),E(!1));case 28:case"end":return t.stop()}}),t)})));return function(e,c,a,n,s){return t.apply(this,arguments)}}(),Ue=function(){var t=Object(o.a)(l.a.mark((function t(c,a,n){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),S(!1),Q(!1),te(!1),se(!1),oe(!1),be(!1),""!==c&&""!==a){t.next=10;break}return Q(!0),t.abrupt("return");case 10:if(_e(c)){t.next=13;break}return be(!0),t.abrupt("return");case 13:return oe(!0),t.next=16,u.a.post("".concat(e,"users/validate"),{email:c});case 16:if(null!==t.sent.data.data){t.next=21;break}return te(!0),oe(!1),t.abrupt("return");case 21:return t.next=23,u.a.post("".concat(e,"users/login"),{email:c,pass:a});case 23:if(null!==(s=t.sent).data.data){t.next=28;break}return oe(!1),se(!0),t.abrupt("return");case 28:ge(s.data.data),oe(!1),me(!0);case 31:case"end":return t.stop()}}),t)})));return function(e,c,a){return t.apply(this,arguments)}}(),_e=function(e){return/[a-zA-Z0-9!@#$%&'*+'-=]+@[a-zA-Z0-9!@#$%&'*+'-=]+\.[a-zA-Z0-9!@#$%&'*+'-=]+/.test(e)},ze="768770191011-bm2rl6eidg2nmg84615oq9qp7rsg0ms9.apps.googleusercontent.com",Ke=Object(a.useState)(!0),De=Object(j.a)(Ke,2),He=De[0],Ze=De[1],$e=Object(a.useState)(!1),qe=Object(j.a)($e,2),Ge=qe[0],Je=qe[1],Ye=function(){var t=Object(o.a)(l.a.mark((function t(c){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(c.profileObj),p(!1),S(!1),B(!1),Q(!1),M(!1),K(!1),O(!0),t.next=10,u.a.post("".concat(e,"users/validate"),{email:c.profileObj.email});case 10:null!==(a=t.sent).data.data?(console.log(a.data.data),ge(a.data.data),me(!0),O(!1),Ze(!1),Je(!0)):null===a.data.data&&(console.log("does not exist"),Ze(!0),me(!1),O(!1),Pe(c.profileObj.email),Ce(c.profileObj.givenName),window.location="./#/register");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)(b.a,{children:[he&&Object(C.jsx)(q,{clientId:ze,showlogoutButton:Ge,onSignoutSuccess:function(){alert("You have been logged out successfully"),console.clear(),Ze(!0),Je(!1),me(!1),ge()},handleLogout:function(){ge(),me(!1)}}),d?Object(C.jsx)("div",{className:"loading-container w-50 text-center",children:Object(C.jsx)(H.a,{})}):Object(C.jsxs)(J.d,{children:[Object(C.jsx)(J.b,{exact:!0,path:"/",element:Object(C.jsx)(J.a,{to:"/login"})}),Object(C.jsx)(J.b,{path:"/login",element:he?Object(C.jsx)(J.a,{to:"/home"}):Object(C.jsxs)("div",{className:"dark-border vertical-center p-3",children:[Y&&Object(C.jsxs)(x.a,{severity:"error",onClose:function(){Q(!1)},children:["Please fill out all fields"," "]}),N&&Object(C.jsx)(x.a,{severity:"success",onClose:function(){S(!1)},children:"Registration successful"}),Object(C.jsx)(y,{handleLogin:Ue,loginLoading:le,accountNotExists:ee,setAccountNotExists:te,loginFail:ne,setLoginFail:se,invalidEmail:ue,setInvalidEmail:be,setFieldsEmpty:Q,showloginButton:He,clientId:ze,onLoginSuccess:Ye,onLoginFailure:function(e){p(!1),S(!1),B(!1),Q(!1),M(!1),K(!1),console.log("Login Failed:",e)}})]})}),P?Object(C.jsx)(J.b,{path:"/register",element:Object(C.jsx)(J.a,{to:"/"})}):Object(C.jsx)(J.b,{path:"/register",element:Object(C.jsx)("div",{className:"dark-border vertical-center p-3",children:Object(C.jsx)(I,{handleRegister:Me,regLoading:f,invalidRegister:A,setInvalidRegister:B,passwordMismatch:W,setPasswordMismatch:M,emailExists:z,setEmailExists:K,fieldsEmpty:Y,setFieldsEmpty:Q,nameInput:we,setNameInput:Ce,emailInput:ke,setEmailInput:Pe,passInput:Le,setPassInput:Ae,passConfirmInput:Te,setPassConfirmInput:We})})}),Object(C.jsx)(J.b,{path:"/home",element:he?Object(C.jsx)(G,{currentUser:ve}):Object(C.jsx)(J.a,{to:"/login"})}),Object(C.jsx)(J.b,{path:"/shop",element:he?Object(C.jsx)($,{currentUser:ve,fruits:n,setFruits:s}):Object(C.jsx)(J.a,{to:"/login"})})]})]})},Q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,224)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(C.jsxs)(n.a.StrictMode,{children:[Object(C.jsx)("div",{className:"g-signin"}),Object(C.jsx)(Y,{})]}),document.getElementById("root")),Q()}},[[162,1,2]]]);
//# sourceMappingURL=main.1557aab3.chunk.js.map